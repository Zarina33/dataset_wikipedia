# Wikipedia Q&A Dataset Generator

Скрипт для генерации датасета вопросов-ответов из статей Wikipedia на кыргызском языке с использованием модели Gemma3:27 через Ollama.

## Установка зависимостей

```bash
pip install -r requirements.txt
```

## Настройка Ollama

1. Убедитесь, что Ollama запущен:
```bash
ollama serve
```

2. Загрузите модель Gemma2:27b (если еще не загружена):
```bash
ollama pull gemma2:27b
```

## Использование

### Базовое использование
```bash
python wikipedia_qa_generator.py
```

### Настройка параметров

Отредактируйте параметры в функции `main()`:

```python
# Параметры обработки
start_from = 0  # Начать с какой статьи (для возобновления)
max_articles = 100  # Максимальное количество статей (None = все)
```

### Возобновление работы

Если процесс был прерван, можете возобновить с определенной позиции:

```python
start_from = 150  # Продолжить с 150-й статьи
max_articles = 50  # Обработать еще 50 статей
```

## Выходные файлы

- `kyrgyz_wikipedia_qa_dataset.json` - основной датасет в формате JSON
- `qa_generation.log` - лог файл с информацией о процессе

## Формат выходного JSON

```json
[
  {
    "question": "Вопрос на кыргызском языке",
    "answer": "Ответ на кыргызском языке", 
    "source_index": 0,
    "source_text_length": 245,
    "generated_at": "2024-01-15 10:30:45"
  }
]
```

## Особенности

- Автоматическое сохранение промежуточных результатов каждые 10 статей
- Обработка ошибок и возможность возобновления
- Фильтрация слишком коротких статей (менее 50 символов)
- Ограничение длины текста для обработки (3000 символов)
- Логирование всех операций

## Производительность

- Обработка ~1-2 статьи в минуту (зависит от мощности системы)
- Рекомендуется обрабатывать батчами по 100-500 статей
- Можно запускать несколько экземпляров параллельно с разными диапазонами

## Устранение неполадок

1. **Ошибка подключения к Ollama**: Проверьте, что Ollama запущен и модель загружена
2. **Медленная работа**: Уменьшите `max_articles` или увеличьте задержку между запросами
3. **Ошибки памяти**: Обрабатывайте меньшими батчами

